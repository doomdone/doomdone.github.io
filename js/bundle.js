!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";function i(e,t){return Math.sqrt(Math.pow(e-haze.x,2)+Math.pow(t-haze.y,2))}function r(){let e=haze.hail;return haze.size-e.size-e.width/2}function o(e,t,n){return Math.sqrt(Math.pow(n,2)/(Math.pow(e,2)+Math.pow(t,2)))}n.r(t),n.d(t,"position",function(){return i}),n.d(t,"limit",function(){return r}),n.d(t,"coef",function(){return o})},function(e,t,n){n(2)},function(e,t,n){let i=n(3),r=n(4),o=new createjs.Stage("havoqCanvas"),a=function(e){return new Promise((t,n)=>{$.get(e,function(e){t(e)}).fail(function(){n("failed to load hail data")})}).then(function(e){return $.parseJSON(e)},function(e){console.log(e)})};!async function(){o.canvas.width=window.innerWidth,o.canvas.height=window.innerHeight;let e=a("https://havoq.herokuapp.com/haze"),t=a("https://havoq.herokuapp.com/hail"),s=await e,c=window.haze=new i.Haze(s);c.draw();let d=await t,l=c.hail=new r.Hail(d);l.draw(),c.container.addChild(l.container);let h=l.drawText(function(){o.addEventListener("stagemousemove",n(7).mouseMove),c.start(),l.start()});c.container.addChild(h),o.addChild(c.container),createjs.Ticker.timingMode=createjs.Ticker.RAF,createjs.Ticker.addEventListener("tick",function(e){n(8).tick(e),o.update(e)}),o.x=window.innerWidth/2-l.x,o.y=window.innerHeight/2-l.y}(),e.exports=o},function(e,t,n){"use strict";n.r(t),n.d(t,"Haze",function(){return a});const i="black",r=5e3;function o(e){console.log("set default params for haze"),this.x=e,this.y=e,this.size=e}class a{constructor(e){null==e&&(e=new o(r)),this.x=e.x,this.y=e.y,this.size=e.size}draw(){this.container=new createjs.Container;let e=new createjs.Shape;e.graphics.beginFill(i).drawCircle(this.x,this.y,this.size),e.name="haze",this.container.addChild(e)}start(){this.play()}play(){console.log("haze started")}}},function(e,t,n){"use strict";n.r(t),n.d(t,"Hail",function(){return o});const i=200;let r=n(5);class o{constructor(e){void 0===e&&(e=new r.getDefault),this.x=e.x,this.y=e.y,(void 0===e.size||e.size<r.minSize)&&(e.size=r.minSize),this.size=e.size,this.color=e.color,this.width=r.width(this.size),this.speed=new r.speed(0,0),this.reverseSpeed=!1}draw(){this.container=new createjs.Container;let e=new createjs.Shape;e.graphics.setStrokeStyle(r.width(i)).beginStroke(this.color).drawCircle(this.x,this.y,i),e.shadow=new createjs.Shadow(this.color,0,0,30),e.name="hail",this.container.addChild(e)}drawText(e){let t=n(6),r={x:this.x,y:this.y,size:i,color:this.color};return t.draw(r,e)}start(){let e=new createjs.Timeline,t=this.container.getChildByName("hail").graphics;e.addTween(createjs.Tween.get(t.command,{loop:!1}).to({radius:this.size},1e3).call(this.grow),createjs.Tween.get(t._strokeStyle,{loop:!1}).to({width:this.width},1e3).call(this.go)),e.gotoAndPlay(0)}grow(){console.log("hail started to grow")}go(){console.log("hail can be moved now")}move(){}changeSpeed(e,t){this.speed=new r.speed(e,t)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"minSize",function(){return i}),n.d(t,"speed",function(){return r}),n.d(t,"width",function(){return o}),n.d(t,"getDefault",function(){return a});const i=30;function r(e,t){this.x=e,this.y=t}function o(e){return 2*i**2/e}function a(){console.log("set default params for hail"),this.x=5e3,this.y=5e3,this.size=30,this.color="#00FF40"}},function(e,t,n){"use strict";n.r(t),n.d(t,"draw",function(){return r});const i="black";function r(e,t){let n=new createjs.Container,r=new createjs.Shape;r.graphics.beginFill(i).drawCircle(e.x,e.y,e.size),r.name="hitzone";r.addEventListener("click",function(){haze.container.removeChild(n),t()}),n.addChild(r);let o=new createjs.Text("start","bold 60px Courier New",e.color),a=o.getBounds();return o.x=e.x-a.width/2,o.y=e.y+a.height/2,o.textBaseline="alphabetic",n.addChild(o),n}},function(e,t,n){"use strict";n.r(t),n.d(t,"mouseMove",function(){return r});let i=n(0);function r(e){let t=Math.floor(e.stageX-window.innerWidth/2),n=Math.floor(e.stageY-window.innerHeight/2),r=haze.hail,o=r.x+r.container.x,a=r.y+r.container.y;i.position(o+t,a+n)<i.limit()&&(r.reverseSpeed=!1);let s=r.size+r.width/2;Math.sqrt(Math.pow(t,2)+Math.pow(n,2))<s?r.changeSpeed(0,0):r.changeSpeed(t,n)}},function(e,t,n){"use strict";n.r(t),n.d(t,"tick",function(){return o});const i=1e3;let r=n(0);function o(e){let t=haze.hail,n=t.container;if(0!=t.speed.x&&0!=t.speed.y){let o=t.reverseSpeed?-t.speed.x:t.speed.x,a=t.reverseSpeed?-t.speed.y:t.speed.y,s=Math.sqrt(o*o+a*a);if(s>1&&(o/=s,a/=s),0!=o||0!=a){let s=o*i*(e.delta/1e3),c=a*i*(e.delta/1e3),d=r.position(t.x+n.x+s,t.y+n.y+c);if(d>r.limit()){let e=r.coef(s,c,r.limit()-d);s*=e,c*=e,t.reverseSpeed=!t.reverseSpeed}n.x+=s,n.y+=c}}let o=haze.container;o.regX=n.x,o.regY=n.y}}]);